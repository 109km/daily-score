(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{150:function(e,t,a){e.exports=a(314)},155:function(e,t,a){},174:function(e,t,a){},314:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),o=a.n(i),s=(a(155),a(80),a(32)),c=(a(104),a(102)),u=(a(313),a(144)),l=(a(315),a(145)),p=a(134),d=(a(169),a(103)),h=a(27),g=a.n(h),m=a(52),f=a(135),w=a(136),b=a(146),v=a(137),y=a(147),O=(a(172),a(59));a(174);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var k=O.a.Header,E=O.a.Content,D=[{title:"id",dataIndex:"id",key:"id"},{title:"\u95ee\u98981",dataIndex:"q1",key:"q1"},{title:"\u95ee\u98982",dataIndex:"q2",key:"q2"},{title:"\u95ee\u98983",dataIndex:"q3",key:"q3"},{title:"\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u7535\u8bdd",dataIndex:"phone",key:"phone"},{title:"\u8bb0\u5f55\u65f6\u95f4",dataIndex:"log_time",key:"log_time"}],C={current:1},I=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(b.a)(this,Object(v.a)(t).call(this))).resetPagination=function(){e.setState({pageIndex:0,pagination:C})},e.onDateChange=function(){var t=Object(m.a)(g.a.mark((function t(a,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.resetPagination(),e.updateList(n);case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.getData=Object(m.a)(g.a.mark((function t(){var a,n,r,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.currentDate,n="http://localhost:8080/v1/ad/",window.location.href.indexOf("shulanbaobei")>=0&&(n="https://www.shulanbaobei.com/v1/ad/"),t.next=5,window.fetch(n+"?start="+e.state.pageIndex+"&limit="+e.state.limit+(a.length>0?"&date="+a:""));case 5:return r=t.sent,t.next=8,r.json();case 8:return i=t.sent,t.abrupt("return",i);case 10:case"end":return t.stop()}}),t)}))),e.loginUser=function(){"admin"===e.state.username&&"admin@20191234"===e.state.password?e.setState({isLogin:!0}):d.a.error("\u7528\u6237\u540d\u548c\u5bc6\u7801\u9519\u8bef")},e.onChangeUserName=function(t){e.setState({username:t.currentTarget.value})},e.onChangePassword=function(t){e.setState({password:t.currentTarget.value})},e.onTableChange=function(t,a,n){var r=j({},e.state.pagination);r.current=t.current;var i=(t.current-1)*e.state.limit;e.setState({pagination:r,pageIndex:i},(function(){e.updateList(e.state.currentDate)}))},e.updateList=Object(m.a)(g.a.mark((function t(){var a,n=arguments;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=n.length>0&&void 0!==n[0]?n[0]:"",e.setState({loading:!0,currentDate:a},Object(m.a)(g.a.mark((function t(){var n,r,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getData(a);case 2:n=t.sent,e.setState({loading:!1}),0===n.code?((r=j({},e.state.pagination)).total=n.data.total,r.pageSize=e.state.limit,i=n.data.list,e.setState({tableData:i,pagination:r})):d.a.error(n.message);case 5:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)}))),e.state={isLogin:!1,username:"",password:"",pageIndex:0,limit:10,loading:!1,currentDate:"",tableData:[],pagination:C},e}return Object(y.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.updateList();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.state.isLogin?r.a.createElement(O.a,null,r.a.createElement(k,null,r.a.createElement(l.a,{onChange:this.onDateChange})),r.a.createElement(E,null,r.a.createElement(u.a,{columns:D,rowKey:function(e){return e.id},loading:this.state.loading,dataSource:this.state.tableData,pagination:this.state.pagination,onChange:this.onTableChange}))):r.a.createElement(O.a,null,r.a.createElement(k,null,r.a.createElement("h2",{className:"login-tips"},"\u767b\u5f55")),r.a.createElement(E,null,r.a.createElement("div",{className:"login-box"},r.a.createElement(c.a,{placeholder:"\u7528\u6237\u540d",value:this.state.username,onChange:this.onChangeUserName}),r.a.createElement(c.a,{type:"password",placeholder:"\u5bc6\u7801",value:this.state.password,onChange:this.onChangePassword}),r.a.createElement(s.a,{type:"primary",className:"btn-login",onClick:this.loginUser},"\u767b\u5f55")))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[150,1,2]]]);
//# sourceMappingURL=main.5a6ea371.chunk.js.map